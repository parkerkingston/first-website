<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pong Game</title>
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-color: #f0f0f0;
        }
        #gameContainer {
            width: 400px;
            height: 600px;
            background-color: #000;
            position: relative;
            overflow: hidden;
        }
        #ball {
            width: 15px;
            height: 15px;
            background-color: #fff;
            border-radius: 50%;
            position: absolute;
        }
        #paddle {
            width: 80px;
            height: 10px;
            background-color: #fff;
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
        }
        #scoreDisplay {
            position: absolute;
            top: 10px;
            left: 10px;
            color: #fff;
            font-family: Arial, sans-serif;
        }
        .controls {
            margin-top: 20px;
            display: flex;
            gap: 20px;
        }
        .control-btn {
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div>
        <div id="gameContainer">
            <div id="ball"></div>
            <div id="paddle"></div>
            <div id="scoreDisplay">Score: 0</div>
        </div>
        <div class="controls">
            <button class="control-btn" 
                onmousedown="startMoving('left')" 
                onmouseup="stopMoving('left')" 
                ontouchstart="startMoving('left')" 
                ontouchend="stopMoving('left')">Left</button>
            <button class="control-btn" 
                onmousedown="startMoving('right')" 
                onmouseup="stopMoving('right')" 
                ontouchstart="startMoving('right')" 
                ontouchend="stopMoving('right')">Right</button>
        </div>
    </div>

    <script>
        const gameContainer = document.getElementById('gameContainer');
        const ball = document.getElementById('ball');
        const paddle = document.getElementById('paddle');
        const scoreDisplay = document.getElementById('scoreDisplay');

        // Initial positions and velocities
        let ballX = gameContainer.offsetWidth / 2 - 7.5; // Center ball (15px width)
        let ballY = 20;
        let ballSpeedX = 2;
        let ballSpeedY = 2;
        let paddlePos = 50; // Percentage, centered initially
        let score = 0;

        // Paddle movement flags
        let movingLeft = false;
        let movingRight = false;
        const paddleSpeed = 0.3; // Percentage per frame

        // Set initial styles
        ball.style.left = `${ballX}px`;
        ball.style.top = `${ballY}px`;
        paddle.style.left = `${paddlePos}%`;

        // Paddle movement controls
        function startMoving(direction) {
            if (direction === 'left') movingLeft = true;
            else if (direction === 'right') movingRight = true;
        }

        function stopMoving(direction) {
            if (direction === 'left') movingLeft = false;
            else if (direction === 'right') movingRight = false;
        }

        // Game loop
        function gameLoop() {
            // Update paddle position
            if (movingLeft) {
                paddlePos -= paddleSpeed;
                if (paddlePos < 10) paddlePos = 10; // Keep paddle fully visible
            }
            if (movingRight) {
                paddlePos += paddleSpeed;
                if (paddlePos > 90) paddlePos = 90; // Keep paddle fully visible
            }
            paddle.style.left = `${paddlePos}%`;

            // Update ball position
            ballX += ballSpeedX;
            ballY += ballSpeedY;
            ball.style.left = `${ballX}px`;
            ball.style.top = `${ballY}px`;

            // Wall collisions
            if (ball.offsetLeft <= 0 || ball.offsetLeft + ball.offsetWidth >= gameContainer.offsetWidth) {
                ballSpeedX = -ballSpeedX; // Bounce off left/right walls
            }
            if (ball.offsetTop <= 0) {
                ballSpeedY = -ballSpeedY; // Bounce off top
            }
            if (ball.offsetTop + ball.offsetHeight >= gameContainer.offsetHeight) {
                // Ball missed, reset to top
                ballX = gameContainer.offsetWidth / 2 - ball.offsetWidth / 2;
                ballY = 20;
                ballSpeedX = Math.random() * 4 - 2; // Random horizontal speed
                ballSpeedY = 2;
                // Optional: score -= 1; // Uncomment to lose points
                // scoreDisplay.textContent = `Score: ${score}`;
            }

            // Paddle collision
            if (
                ball.offsetTop + ball.offsetHeight >= paddle.offsetTop &&
                ball.offsetLeft + ball.offsetWidth > paddle.offsetLeft &&
                ball.offsetLeft < paddle.offsetLeft + paddle.offsetWidth &&
                ballSpeedY > 0 // Only bounce if moving downward
            ) {
                ballSpeedY = -ballSpeedY; // Bounce off paddle
                score += 1;
                scoreDisplay.textContent = `Score: ${score}`;
            }

            requestAnimationFrame(gameLoop);
        }

        // Start the game
        gameLoop();
    </script>
</body>
</html>